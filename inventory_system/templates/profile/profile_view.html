{% extends "inventory/base.html" %}
{% load static %}

{% block title %}My Profile{% endblock title %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10 col-lg-8">

            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-body p-4 d-flex flex-column flex-md-row align-items-center">

                    <!-- Profile Picture -->
                    <div class="me-md-4 mb-4 mb-md-0 text-center">
                        {% if profile.profile_image %}
                            <img src="{{ profile.profile_image.url }}" class="rounded-circle shadow" style="width: 130px; height: 130px; object-fit: cover;" alt="Profile Image">
                        {% else %}
                            <div class="rounded-circle shadow d-flex justify-content-center align-items-center" style="width: 130px; height: 130px;">
                                <i class="fas fa-user fa-6x"></i>
                            </div>
                        {% endif %}
                    </div>

                    <!-- Profile Info -->
                    <div class="flex-grow-1 ms-5">
                        <h4 class="fw-bold text-dark mb-1">{{ profile.store_name|default:'--' }}</h4>
                        
                        {% if profile.bio %}
                            <p class="text-secondary mb-2">{{ profile.bio }}</p>
                        {% else %}
                            <p class="text-muted mb-2">No bio provided yet.</p>
                        {% endif %}

                        <p class="text-muted mb-2">
                            <i class="fas fa-envelope me-2 text-secondary"></i>{{ profile.user.email }}
                        </p>
                        <p class="text-muted mb-2">
                            <i class="fas fa-map-marker-alt me-2 text-secondary"></i>{{ profile.address }}
                        </p>
                        <p class="text-muted mb-2">
                            <i class="fas fa-phone me-2 text-secondary"></i>{{ profile.phone }}
                        </p>
                        <p class="text-muted small">
                            <i class="fas fa-calendar-alt me-2"></i>Joined on {{ profile.created_at|date:"F j, Y" }}
                        </p>

                        <!-- Buttons -->
                        <div class="mt-3">
                            <a href="{% url "edit-profile" %}" class="btn btn-outline-primary btn-sm me-2 px-4">
                                <i class="fas fa-user-edit me-1"></i>Edit Profile
                            </a>
                            <a href="{% url "change_password" %}" class="btn btn-outline-secondary btn-sm px-4">
                                <i class="fas fa-lock me-1"></i>Change Password
                            </a>
                        </div>
                    </div>
                </div>  
            </div>

        </div>
    </div>
</div>
{% endblock content %}
